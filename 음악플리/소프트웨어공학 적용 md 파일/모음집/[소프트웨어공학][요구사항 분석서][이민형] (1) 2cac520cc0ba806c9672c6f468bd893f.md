# [소프트웨어공학][요구사항 분석서][이민형] (1)

![emblem 2.jpg](%5B%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B3%B5%ED%95%99%5D%5B%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD%20%EC%A0%95%EC%9D%98%EC%84%9C%5D%5B%EC%9D%B4%EB%AF%BC%ED%98%95%5D%20(1)/348af5cc-e3ec-47ae-ab05-a68d0caaaa65.png)

과목: 소프트웨어공학

담당교수님: 손한성 교수님

학과: 게임소프트웨어전공

이름: 이민형

학번: 92115174

# 1. 개요

## 1.1 문서의 목적 및 범위

이 문서는 Genie2YT프로젝트 속  시스템에 대한 요구사항 분석서이다. 요구사항 정의서를 통해 도출된 요구사항에 대해 기능, 구조, 행위 모델을 이용한 분석, 시스템의 인터페이스, 제약사항, 요구사항 추적 등 기술한다. 

이 문서의 범위는 기능 분석을 위한 유스케이스 다이어그램 및 설명서, 구조와 행위 분석을 위한 클래스, 순차 다이어그램,분석된 모델간 일관겅 점검, 인터페이스 정의 및 제약사항, 요구사항 추적표를 포함한다.

## 1.2 프로젝트 개요

프로젝트명**:** Genie2YT – 국내 음악 플랫폼 재생목록 변환 시스템

프로젝트 목적: 지니뮤직(Genie Music)과 같은 국내 음악 플랫폼의 재생목록을 YouTube Music으로 자동 변환하여 사용자가 플랫폼 간 음악 감상 경험을 연속적으로 유지할 수 있도록 하는 서비스이다. 국내 플랫폼에는 공개 API가 제공되지 않으므로, 본 시스템은 지니뮤직 HTML 페이지를 파싱하고 및 YouTube Data API 연동을 통해 재생목록을 생성한다.

## 1.3 관련문서, 용어 및 약어

| 구분 | 명칭 | 설명 |
| --- | --- | --- |
| **문서** | Genie2YT 요구사항 정의서 | 본 분석서의 상위 문서로, 기능 및 비기능 요구사항 명세 |
|  | Genie2YT 프로젝트 관리계획서 | 일정, 인력, 자원 배분 계획 문서  |
| **용어** | **Genie API** | 공식 API가 아닌, Genie 웹페이지를 HTML 구조로 파싱하는 내부 모듈(= Genie Parser)을 의미함 |
|  | **Parser (파서)** | HTML 문서를 파싱하여 곡명, 가수명, 앨범 정보를 추출하는 기능 모듈 |
|  | **Converter (변환기)** | 추출된 데이터를 YouTube Playlist 형태로 변환하는 모듈 |
|  | **OAuth** | 사용자 인증을 위한 Google 계정 연동 프로토콜 |
|  | **FR (Functional Requirement)** | 기능 요구사항, 시스템이 수행해야 할 동작 명세 |

# 2. 요구사항

## 2.1 기능 분석

### ① 요구사항 검토

요구사항 정의서에 제시된 기능적 요구사항(FR-01~FR-15)을 검토하였다. 검토한 결과, 시스템의 핵심 기능은 로그인, 재생목록 입력, 곡 데이터 추출, YouTube 재생목록 생성, 결과 표시의 다섯 가지로 요약된다. 또한 비기능 요구사항(NFR)으로는 처리속도(10초 이내), 보안(HTTPS), 신뢰성(로그 저장 및 복구) 등이 존재한다. 이 과정을 통해 유스케이스로 표현 가능한 사용자 중심 기능의 범위를 확정하였다.

### ② 요구사항을 토대로 시스템 경계 결정

시스템 경계는 “국내 음악 플랫폼의 재생목록을 YouTube Music으로 자동 변환하는 웹 서비스”로 설정하였다.

외부와 내부를 구분하면 다음과 같다.

| 구분 | 내용 |
| --- | --- |
| **시스템 내부** | Flask 서버, 변환 로직, 데이터베이스, YouTube API 호출 모듈 |
| **시스템 외부** | 사용자, Google OAuth 서버, Genie 서버, YouTube 서버 |

### ③ 경계 설정된 시스템에 대한 명칭 정의

경계가 확정된 시스템의 공식 명칭은 “Genie2YT (플리포터, Playlist Porter)”로 정의하였다.

시스템 명칭은 “Genie → YouTube”라는 주요 기능을 직관적으로 나타내며,

이 명칭을 기준으로 이후 산출물(다이어그램, 설명서, 클래스 구조)을 통일하였다.

### ④ 시스템 외부에 존재하는 액터 식별 및 각 액터 역할 정의

시스템 외부에서 Genie2YT와 상호작용하는 주체를 아래와 같이 식별하였다.

| 액터명 | 유형 | 역할 |
| --- | --- | --- |
| **User (사용자)** | 기본 액터 | 웹 서비스를 이용해 재생목록 변환을 요청하는 주체 |
| **Google OAuth Server** | 보조 액터 | 로그인 및 인증 토큰 발급 담당 |
| **Genie Server** | 보조 액터 | HTML 형태의 재생목록 데이터를 제공 |
| **YouTube Data API Server** | 보조 액터 | 변환된 곡 정보를 받아 재생목록 생성 수행 |

### ⑤ 각 액터가 시스템에서 사용하는 기능 식별

각 액터가 수행하거나 요청하는 주요 기능을 다음과 같이 도출하였다.

| 액터 | 관련 기능 | 설명 |
| --- | --- | --- |
| 사용자(User) | 로그인하기, 재생목록 URL 입력, 변환 결과 확인 | 서비스 이용을 위한 기본 절차 수행 |
| Google OAuth | 사용자 인증 및 토큰 검증 | 로그인 요청 시 응답 |
| Genie Server | 곡 데이터 제공 | HTML 파싱 대상 |
| YouTube API | 재생목록 생성, 곡 추가 | 변환 결과 반영 |

### ⑥ 식별된 사용자 기능과 액터 간 관계 정의

유스케이스 간 관계를 정리하면 다음과 같다.

| 관계 유형 | 설명 | 적용 사례 |
| --- | --- | --- |
| **include(포함 관계)** | 다른 유스케이스 수행에 반드시 필요한 기능 | ‘로그인하기’는 모든 주요 기능에 포함됨 |
| **extend(확장 관계)** | 선택적으로 수행되는 보조 기능 | ‘오류 처리’, ‘로그 보기’는 확장 관계로 설정됨 |

![유스케이스 다이어그램](%5B%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B3%B5%ED%95%99%5D%5B%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD%20%EB%B6%84%EC%84%9D%EC%84%9C%5D%5B%EC%9D%B4%EB%AF%BC%ED%98%95%5D%20(1)/%E1%84%8B%E1%85%B2%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3_%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7.png)

유스케이스 다이어그램

### 유스케이스 설명서

### UC-01. 로그인하기 (Login)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | 로그인하기 (Login) |
| **유스케이스 ID** | UC-01 |
| **주요 액터** | 사용자(User), Google OAuth 서버 |
| **선행 조건** | 사용자가 서비스 접속 완료 상태여야 함 |
| **사후 조건** | Access Token 발급 및 사용자 세션 생성 |
| **입력 데이터** | 사용자 Google 계정 인증 정보 |
| **출력 데이터** | Access Token, 사용자 이메일(ID) |
| **목적** | 사용자의 신원을 확인하고 개인화된 변환 기능 제공 |
| **발생 주기** | 최초 접속 시 1회 또는 세션 만료 시 |
| **트리거** | “로그인하기” 버튼 클릭 |

**Normal Flow of Events (Normal Scenario)**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 사용자 | “로그인하기” 버튼 클릭 |
| 2 | 시스템 | Google OAuth 인증 페이지로 이동 |
| 3 | OAuth 서버 | 사용자가 Google 계정 정보를 입력 |
| 4 | OAuth 서버 | 인증 성공 후 Access Token 발급 |
| 5 | 시스템 | 사용자 세션 생성 및 메인 화면 이동 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | 로그인 중 사용자가 취소를 누름 | 로그인 프로세스 중단, 초기 화면으로 복귀 |
| EX1 | OAuth 인증 실패 | 오류 코드 표시 및 재로그인 요청 |
| EX2 | 네트워크 단절 | 재시도 버튼 제공, 일정 시간 후 재시도 |
| EX3 | 토큰 만료 | 자동 로그아웃 및 로그인 화면으로 리디렉션 |

### UC-02. 재생목록 URL 입력 (Input Playlist URL)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | 재생목록 URL 입력 (Input Playlist URL) |
| **유스케이스 ID** | UC-02 |
| **주요 액터** | 사용자(User) |
| **선행 조건** | 로그인 완료 상태여야 함 |
| **사후 조건** | URL이 Flask 서버로 전달되어 파싱 준비 완료 |
| **입력 데이터** | 지니뮤직 재생목록 URL 문자열 |
| **출력 데이터** | URL 유효성 검사 결과(True/False) |
| **목적** | 사용자가 이전하려는 재생목록의 위치를 시스템에 제공 |
| **발생 주기** | 사용자가 변환할 때마다 |
| **트리거** | URL 입력 후 “변환 시작” 버튼 클릭 |

**Normal Flow of Events**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 사용자 | 재생목록 URL 입력 후 “변환 시작” 클릭 |
| 2 | 시스템 | 입력된 URL의 형식을 검증 |
| 3 | 시스템 | 유효한 URL일 경우 Flask 서버로 전달 |
| 4 | 시스템 | URL 로그 기록 후 파싱 요청 준비 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | URL 입력 후 수정 요청 | 기존 URL 삭제 후 재입력 가능 |
| EX1 | URL 형식 오류 | “유효하지 않은 URL” 메시지 표시 |
| EX2 | 비지니뮤직 도메인 입력 | “지원되지 않는 플랫폼입니다” 출력 |
| EX3 | 입력 필드 공란 | “URL을 입력해주세요” 팝업 표시 |

### UC-03. 곡 정보 추출 (Extract Song Info)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | 곡 정보 추출 (Extract Song Info) |
| **유스케이스 ID** | UC-03 |
| **주요 액터** | Genie Server (HTML 데이터 제공자) |
| **선행 조건** | 유효한 URL이 입력되어 있어야 함 |
| **사후 조건** | HTML 파싱 완료 및 곡 데이터 JSON 생성 |
| **입력 데이터** | 지니뮤직 재생목록 HTML |
| **출력 데이터** | 곡명, 아티스트, 앨범 등의 JSON 리스트 |
| **목적** | 지니뮤직 페이지에서 필요한 곡 데이터를 추출하여 YouTube 변환 준비 |
| **발생 주기** | URL 입력 시 자동 수행 |
| **트리거** | Flask 서버의 파싱 요청 발생 시 |

**Normal Flow of Events**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 시스템 | Flask 서버가 Genie 서버에 HTML 요청 |
| 2 | Genie 서버 | HTML 데이터 반환 |
| 3 | 시스템 | BeautifulSoup으로 파싱 수행 |
| 4 | 시스템 | 곡명·가수·앨범 정보 추출 |
| 5 | 시스템 | JSON 형식으로 변환 후 캐시에 저장 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | 일부 곡 정보 누락 | 비어 있는 항목은 “Unknown”으로 임시 채움 |
| EX1 | Genie 서버 응답 지연 | 최대 3회 재시도 후 실패 알림 |
| EX2 | HTML 구조 변경 | “파싱 실패” 메시지 및 로그 기록 |
| EX3 | 파싱 중 예외 발생 | 예외 처리 루틴 수행 및 복구 시도 |

### UC-04. YouTube 재생목록 생성 (Create YouTube Playlist)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | YouTube 재생목록 생성 (Create YouTube Playlist) |
| **유스케이스 ID** | UC-04 |
| **주요 액터** | 사용자(User), YouTube Data API |
| **선행 조건** | 곡 데이터 JSON이 준비되어 있어야 함 |
| **사후 조건** | YouTube 계정 내 새 재생목록이 생성되고 곡 추가 완료 |
| **입력 데이터** | 곡 데이터 JSON, 사용자 Access Token |
| **출력 데이터** | 생성된 재생목록 ID, URL, 성공/실패 결과 |
| **목적** | 추출된 곡 정보를 이용해 유튜브뮤직에 동일한 재생목록을 생성 |
| **발생 주기** | 변환 요청 시 1회 수행 |
| **트리거** | Flask 서버의 YouTube API 호출 요청 |

**Normal Flow of Events**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 시스템 | 추출된 JSON 데이터를 YouTube API로 전달 |
| 2 | YouTube API | Access Token 인증 확인 |
| 3 | 시스템 | 새 재생목록 생성 요청 수행 |
| 4 | YouTube API | playlistItems.insert 요청으로 곡 추가 |
| 5 | 시스템 | 성공 결과 로그 저장 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | 사용자가 곡 매칭 확인 요청 | 매칭된 곡 목록 미리보기 제공 |
| EX1 | API 인증 실패 | “로그인 상태를 확인하세요” 메시지 출력 |
| EX2 | API Quota 초과 | 일정 시간 대기 후 재시도 |
| EX3 | 일부 곡 검색 실패 | 후보곡 리스트 제시 및 수동 선택 유도 |
| EX4 | 네트워크 오류 | 3회 재시도 후 오류 로그 기록 |

### UC-05. 변환 결과 확인 (Check Conversion Result)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | 변환 결과 확인 (Check Conversion Result) |
| **유스케이스 ID** | UC-05 |
| **주요 액터** | 사용자(User) |
| **선행 조건** | 변환 프로세스가 완료되어야 함 |
| **사후 조건** | 사용자에게 결과 요약(성공/실패/시간 등)이 표시됨 |
| **입력 데이터** | 변환 로그 ID |
| **출력 데이터** | 성공/실패 횟수, 링크, 처리 시간 |
| **목적** | 변환 완료 여부 및 결과를 사용자에게 시각적으로 제공 |
| **발생 주기** | 변환 종료 시 |
| **트리거** | 변환 완료 후 자동 호출 또는 “결과 보기” 버튼 클릭 |

**Normal Flow of Events**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 시스템 | 변환 완료 상태를 감지 |
| 2 | 시스템 | 성공/실패 곡 수 집계 |
| 3 | 시스템 | 처리 시간, 성공률 계산 |
| 4 | 사용자 | 결과 요약 확인 및 링크 클릭 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | 사용자 요청 시 상세 로그 조회 | 각 곡별 상태를 테이블로 표시 |
| EX1 | 로그 파일 손상 | 백업 로그로 복원 시도 |
| EX2 | YouTube 링크 오류 | “링크를 열 수 없습니다” 경고 표시 |
| EX3 | 결과 데이터 누락 | “변환 결과를 불러올 수 없습니다” 알림 표시 |

### UC-06. 오류 로그 보기 (View Error Log)

**식별부**

| 항목 | 내용 |
| --- | --- |
| **유스케이스 명칭** | 오류 로그 보기 (View Error Log) |
| **유스케이스 ID** | UC-06 |
| **주요 액터** | 사용자(User) |
| **선행 조건** | 변환이 실패했거나 오류가 발생해야 함 |
| **사후 조건** | 로그 데이터가 화면에 표시됨 |
| **입력 데이터** | 로그 ID, 오류 코드 |
| **출력 데이터** | 오류 원인, 발생 시각, 재시도 가능 여부 |
| **목적** | 오류 원인을 분석하고 재시도를 유도 |
| **발생 주기** | 오류 발생 시 |
| **트리거** | “오류 로그 보기” 버튼 클릭 |

**Normal Flow of Events**

| 단계 | 행위자 | 시스템의 동작 |
| --- | --- | --- |
| 1 | 사용자 | “오류 로그 보기” 버튼 클릭 |
| 2 | 시스템 | DB에서 최근 오류 로그 조회 |
| 3 | 시스템 | 오류 코드, 시간, 원인을 표시 |
| 4 | 사용자 | “재시도” 버튼 클릭 가능 |

**Sub Flow / Alternative–Exception Flow**

| 예외 번호 | 발생 조건 | 예외 흐름 / 처리 내용 |
| --- | --- | --- |
| SF1 | 사용자가 로그 내보내기 요청 | CSV로 로그 저장 |
| EX1 | 로그 없음 | “저장된 로그가 없습니다” 메시지 표시 |
| EX2 | DB 연결 실패 | “서버 오류입니다. 잠시 후 재시도해주세요” 출력 |
| EX3 | 로그 파일 손상 | 복구 불가 시 새 로그 파일 생성 후 알림 표시 |

## 2.2 구조 분석

### 클래스 식별 결과표

| 클래스명 | 주요 속성 | 주요 연산 | 관계 |
| --- | --- | --- | --- |
| **User** | user_id, email, token | login(), logout() | 1:N → ConvertLog |
| **Playlist** | title, track_list, platform | parse(), get_tracks() | 포함 → GenieAPI |
| **Converter** | mapping_rule, status | match_song(), upload_to_youtube() | 집합 → Playlist, YouTubeAPI |
| **GenieAPI** | url, response | fetch_playlist() | 제공 → Playlist |
| **YouTubeAPI** | access_token, quota | create_playlist(), add_track() | 사용 → Converter |
| **ConvertLog** | log_id, status, time | save_log(), get_logs() | 연결 → User |

### ④ 클래스 관계 해석

- **User ↔ ConvertLog** : 사용자와 변환 이력 간 1:N 관계
- **Converter ↔ Playlist** : Converter가 여러 Playlist를 처리할 수 있는 집합 관계
- **Converter ↔ YouTubeAPI** : Converter가 API를 조합해 재생목록을 업로드
- **Playlist ↔ GenieAPI** : Playlist가 GenieAPI에 의존하여 곡 데이터를 가져옴
- **Converter ↔ ErrorHandler**(미표시): 예외 발생 시 확장 가능

![클래스 다이어그램](%5B%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B3%B5%ED%95%99%5D%5B%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD%20%EB%B6%84%EC%84%9D%EC%84%9C%5D%5B%EC%9D%B4%EB%AF%BC%ED%98%95%5D%20(1)/image.png)

클래스 다이어그램

## 2.3 행위 분석

### 순차 다이어그램

![순차 다이어그램](%5B%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B3%B5%ED%95%99%5D%5B%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD%20%EB%B6%84%EC%84%9D%EC%84%9C%5D%5B%EC%9D%B4%EB%AF%BC%ED%98%95%5D%20(1)/%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8E%E1%85%A1_%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7.png)

순차 다이어그램

**다이어그램 설명**

| 구간 | 설명 |
| --- | --- |
| **1단계** | 사용자가 로그인 요청 → OAuth 인증 후 토큰 획득 |
| **2단계** | 사용자 URL 입력 → Flask 서버가 형식 검증 |
| **3단계** | GenieAPI로 HTML 요청 → 곡 정보 파싱 및 JSON 변환 |
| **4단계** | YouTube API로 Playlist 생성 및 곡 추가 반복 수행 |
| **5단계** | 변환 로그를 DB에 저장 → 사용자에게 결과 표시 |

### 상태기계 다이어그램

**상태기계 다이어그램 필요성 분석:**  이 시스템의 흐름은  “요청→ 변환 → 결과 표시”까지 일직선 흐름으로 처리되며 별도의 상태전이가 존재하지 않는다. 또한 Flask 서버 기반 요청-응답 구조로, 요청별 독립적인 과정이 수행되고 종료된다. 즉, 시스템이 세션 상태 혹은 내부 객체의 상태 전이를 추적하고 있지 않기 때문에 순차 다이어그램으로 충분하다고 판단하였다.

# 3. 분석 산출물 점검

### (1) 기능 모델(Use Case Diagram) 점검

| 점검 기준 | Genie2YT 적용 내용 |
| --- | --- |
| **① 기능의 완전성** | UC-01~UC-06(로그인, URL 입력, 곡 추출, 재생목록 생성, 결과확인, 오류로그)로 전체 기능 포함 |
| **② 액터 정의의 타당성** | User, Google OAuth, Genie Server, YouTube API가 시스템 외부 주체로 타당하게 설정됨 |
| **③ 유스케이스 관계의 적절성** | UC-01은 UC-02·UC-04에 포함(include), UC-05·UC-06은 확장(extend) 관계로 표현됨 |
| **④ 기능 명칭의 명확성** | 모든 UC 명칭이 “동사+목적어” 형태(예: 로그인하기, 곡 정보 추출)로 일관성 유지 |

### (2) 구조 모델(Class Diagram) 점검

| 점검 기준 | Genie2YT 적용 내용 |
| --- | --- |
| **① 클래스 식별의 타당성** | User, Playlist, Converter, GenieParser, YouTubeAPI, ConvertLog 등 필수 객체 식별됨 |
| **② 속성·연산의 적정성** | 각 클래스가 상태(속성)와 행위(연산)를 모두 포함 (save_log(), fetch_html(), create_playlist() 등) |
| **③ 클래스 간 관계의 타당성** | User–ConvertLog(1:N), Converter–Playlist(포함), Converter–YouTubeAPI(의존) 관계가 논리적으로 타당 |
| **④ 표기법의 일관성** | Mermaid 및 PlantUML에서 UML 표준(*--, -->, ..>) 사용, 교재 표기와 일치 |

### (3) 행위 모델(Sequence Diagram) 점검

| 점검 기준 | Genie2YT 적용 내용 |
| --- | --- |
| **① 시나리오 일치성** | UC-01~UC-05의 정상 시나리오가 순서대로 표현 (로그인→URL 입력→파싱→업로드→결과 표시) |
| **② 메시지 흐름의 논리성** | User→System→GenieParser→YouTubeAPI→DB 흐름이 직관적이며 논리적 |
| **③ 반복·조건 표현의 적정성** | 곡 추가 시 loop 블록, API 오류 시 alt 구문으로 표현됨 |
| **④ 클래스 연산과 메시지의 일치성** | 순차 다이어그램의 메시지가 클래스 연산(fetch_html, add_track, save_log)과 동일 |

# 4. 인터페이스 분석

**외부 인터페이스**

| 인터페이스 ID | 대상 시스템 | 주요 기능 / 내용 |
| --- | --- | --- |
| IF-01 | Google OAuth 2.0 | 사용자 인증 및 Access Token 발급 |
| IF-02 | YouTube Data API v3 | 재생목록 생성, 곡 추가, 결과 수신 |
| IF-03 | Genie Web (HTML 페이지) | BeautifulSoup 기반으로 HTML 파싱 및 곡 정보 추출 |
| IF-04 | Flask ↔ DB (SQLite) | 사용자, 변환 이력, 로그 데이터 저장 |
| IF-05 | Flask ↔ Frontend (React) | 재생목록 URL 입력 및 결과 표시 UI 전송 |

**내부 인터페이스**

| 모듈명 | 입력 데이터 | 출력 데이터 | 설명 |
| --- | --- | --- | --- |
| `auth.py` | 사용자 Google 계정 정보 | Access Token | OAuth 인증 및 세션 생성 |
| `parser.py` | Genie URL | 곡 정보(JSON) | HTML 요청 및 곡 데이터 추출 |
| `yt_api.py` | 곡 정보(JSON), Token | YouTube Playlist ID, Video ID | 유튜브 재생목록 생성 및 곡 업로드 |
| `db.py` | 로그 정보 | 저장 결과 | 변환 이력 저장 및 조회 |
| `result.py` | 변환 결과, 오류 코드 | 결과 페이지(JSON) | 결과 요약 및 오류 처리 |

# 5. 제약사항

| 구분 | 내용 |
| --- | --- |
| **기술적 제약** | YouTube API 호출 한도(10,000unit/일) 제한으로 인해 대량 변환 시 지연 발생 가능 |
| **보안적 제약** | 모든 통신은 HTTPS를 사용해야 하며, OAuth 토큰은 세션 내에서만 유지, 토큰 및 API 키 보안 방법 준수 |
| **법적 제약** | 국내 음악 서비스(Genie) HTML 구조 변경 시 파싱 코드 수정 필요, 저작권 위반 금지 |
| **운영적 제약** | Flask 서버는 Google Cloud / Gabia Cloud 환경에서 동작, 네트워크 환경에 영향 받을 수 있음 |
| **환경적 제약** | Python 3.10 이상, API 키 유효성 관리 필요 |
| **사용성 제약** | 모바일 환경에서는 일부 기능(UI 스크롤, 로딩바 등) 제한적 작동 가능 |

# 6. 요구사항 추적표

| 요구사항 ID | 요구사항 설명 | 관련 유스케이스 | 관련 클래스 / 모듈 | 관련 시퀀스 / 다이어그램 | 구현 파일 |
| --- | --- | --- | --- | --- | --- |
| **FR-01** | 사용자는 Google 계정으로 로그인할 수 있어야 한다. | UC-01 로그인하기 | User, auth.py | 로그인 시퀀스 | `auth.py` |
| **FR-02** | 사용자는 재생목록 URL을 입력할 수 있어야 한다. | UC-02 URL 입력 | Playlist, parser.py | 입력·검증 시퀀스 | `parser.py` |
| **FR-03** | 시스템은 Genie HTML을 파싱해 곡 정보를 추출해야 한다. | UC-03 곡 정보 추출 | GenieParser, Converter | 곡 파싱 시퀀스 | `parser.py` |
| **FR-04** | 시스템은 YouTube API를 사용해 재생목록을 생성해야 한다. | UC-04 재생목록 생성 | YouTubeAPI, Converter | 업로드 시퀀스 | `yt_api.py` |
| **FR-05** | 변환 완료 후 결과 요약 정보를 사용자에게 표시해야 한다. | UC-05 결과 확인 | Converter, Result | 결과 표시 시퀀스 | `result.py` |
| **FR-06** | 사용자는 변환 로그를 조회할 수 있어야 한다. | UC-06 오류 로그 보기 | ConvertLog, db.py | 로그 조회 시퀀스 | `db.py` |
| **FR-07** | API 호출 실패 시 재시도 기능이 필요하다. | UC-04, UC-06 | Converter | loop 및 alt 블록 시퀀스 | `yt_api.py` |
| **FR-08** | 사용자 세션은 일정 시간 후 자동 만료되어야 한다. | UC-01 | User | 세션 흐름 | `auth.py` |
| **FR-09** | 곡 매칭 실패 시 대체 후보를 제시해야 한다. | UC-04 | Converter, YouTubeAPI | 곡 업로드 루프 내 조건 분기 | `yt_api.py` |
| **FR-10** | 변환 실패 시 오류 로그를 자동 저장해야 한다. | UC-06 | ConvertLog, DB | 오류 처리 시퀀스 | `db.py` |

# 7. 참고문헌 및 목록

*Spotify System Design \* System Design One Newsletter | Neo Kim and Hayk | 2025 : 음악앱 구조 참고 

YouTube Data API v3 Documentation *\* Google Developers | 2025